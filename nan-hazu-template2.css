@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Spectral:ital,wght@0,300;0,400;0,600;0,700;1,400&family=Cinzel+Decorative:wght@700&display=swap');

:root {
  /* Cores de Tinta Escura */
  --ink-primary: #1a0f0a;       /* Café quase preto */
  --ink-accent: #8b0000;        /* Vermelho sangue seco */
  /* A cor de fundo de segurança agora é transparente, pois a imagem da borda preenche tudo */
  --paper-bg-color: transparent;
  --gengar-purple: #4a3b59;
  --border-ink: rgba(26, 15, 10, 0.4);
}

/* --- CONTAINER PRINCIPAL (A MÁGICA ACONTECE AQUI) --- */
.book-container {
  position: relative;
  max-width: 650px;
  width: 95%;
  margin: 40px auto; /* Margem externa para afastar do resto do fórum */
  color: var(--ink-primary);
  font-family: 'Spectral', serif;
  box-sizing: border-box; /* Garante que bordas e padding não quebrem o layout */

  /* --- CONFIGURAÇÃO DE BORDER-IMAGE --- */
  /* 1. Define a largura da borda visual. Isso reserva o espaço para as bordas queimadas */
  border-style: solid;
  border-width: 75px 65px 85px 65px; /* Topo, Direita, Base, Esquerda */
  
  /* 2. Define a imagem fonte */
  border-image-source: url('https://i.imgur.com/A0eo2NP.png');
  
  /* 3. O CORTE (Slice): Onde o CSS deve "cortar" a imagem original para separar cantos do meio.
     O valor '110' é um chute baseado na resolução da imagem para pegar bem a parte queimada.
     O 'fill' diz para usar o miolo da imagem como fundo do conteúdo. */
  border-image-slice: 110 fill;
  
  /* 4. Como repetir as laterais e o meio. 'stretch' funciona melhor para texturas orgânicas */
  border-image-repeat: stretch;
  
  /* Limpa configurações antigas de background que atrapalhariam */
  background-color: transparent;
  background-image: none;
  box-shadow: none; /* A própria borda da imagem já dá o efeito de sombra */

  /* Padding interno para o texto não ficar em cima da área da borda queimada */
  /* Como já temos uma border-width grande, o padding aqui pode ser menor */
  padding: 10px 30px 20px 30px; 
}

/* --- HEADER --- */
.book-header {
  text-align: center;
  margin-bottom: 30px;
  border-bottom: 2px solid var(--border-ink);
  padding-bottom: 15px;
}

.book-title {
  font-family: 'Cinzel Decorative', serif;
  font-size: 2.4em;
  font-weight: 700;
  text-transform: uppercase;
  color: var(--ink-primary);
  margin: 0;
  line-height: 0.9;
  letter-spacing: 1px;
  text-shadow: 1px 1px 0px rgba(255,255,255,0.3);
}

.book-subtitle {
  font-family: 'Dancing Script', cursive;
  font-size: 1.8em;
  color: var(--ink-accent);
  margin-top: 5px;
  font-weight: 700;
}

/* --- STATUS --- */
.book-stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 15px;
  margin-bottom: 30px;
  background: rgba(26, 15, 10, 0.05); /* Fundo sutil */
  padding: 15px;
  border: 1px solid var(--border-ink);
  border-radius: 4px;
}

.book-stat-item { display: flex; flex-direction: column; gap: 5px; }

.book-stat-label {
  font-family: 'Cinzel Decorative', serif;
  font-size: 0.7em;
  font-weight: bold;
  color: var(--ink-primary);
  text-align: center;
  text-transform: uppercase;
}

.book-bar-wrapper {
  width: 100%; height: 6px;
  background: rgba(0, 0, 0, 0.1);
  border: 1px solid var(--ink-primary);
  border-radius: 2px;
  overflow: hidden;
}

/* Cores das barras */
.nan-hp-fill { background: #8b0000; height: 100%; transition: width 0.5s; }
.nan-ea-fill { background: #2c241b; height: 100%; transition: width 0.5s; }
.nan-san-fill { background: #2f4f4f; height: 100%; transition: width 0.5s; }

.nan-hp-val, .nan-ea-val, .nan-san-val {
  font-family: 'Spectral', serif;
  font-size: 0.9em;
  text-align: center;
  font-weight: 700;
  margin-top: 3px;
  color: var(--ink-primary);
}

/* --- CONTEÚDO --- */
.book-content {
  font-size: 1.15em;
  line-height: 1.8;
  text-align: justify;
  margin-bottom: 40px;
}

.book-content::first-letter {
  float: left;
  font-family: 'Cinzel Decorative', serif;
  font-size: 3.5em;
  line-height: 0.8;
  padding-right: 10px;
  padding-top: 5px;
  color: var(--ink-accent);
}

.book-content b { color: var(--ink-accent); font-weight: 700; }

/* --- EXTRAS (INGREDIENTES) --- */
.book-extras {
  margin: 0 0 40px 0;
  padding: 20px;
  position: relative;
  border-top: 1px dashed var(--border-ink);
  border-bottom: 1px dashed var(--border-ink);
  font-size: 0.95em;
}

/* Título Injetado */
.book-extras::before {
  content: 'Ingredientes';
  display: block;
  font-family: 'Dancing Script', cursive;
  font-size: 2em;
  color: var(--ink-accent);
  margin-bottom: 15px;
  text-align: center;
}

/* Ajuste nos Spoilers para o tema claro */
.book-extras .spoiler-header {
    background: transparent !important;
    border: 1px solid var(--border-ink) !important;
    color: var(--ink-primary) !important;
    font-weight: bold;
    box-shadow: none !important;
}
.book-extras .spoiler-content {
    background: rgba(0,0,0,0.03) !important;
    border: 1px solid var(--border-ink) !important;
    border-top: none !important;
    color: var(--ink-primary) !important;
}

/* --- RODAPÉ & ASSINATURA --- */
.book-footer {
  margin-top: 20px;
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  border-top: 2px solid var(--border-ink);
  padding-top: 15px;
}

/* Shikigami */
.gengar-container { width: 180px; }

.gengar-label {
  font-family: 'Spectral', serif;
  font-style: italic;
  color: var(--gengar-purple);
  font-size: 1.1em;
  font-weight: 700;
  display: block;
  margin-bottom: 3px;
}

.gengar-bar-wrapper {
  width: 100%; height: 5px;
  background: rgba(74, 59, 89, 0.1);
  border: 1px solid var(--gengar-purple);
}

.gengar-hp-fill { background: var(--gengar-purple); height: 100%; }

.gengar-hp-val {
  font-size: 0.8em;
  color: var(--gengar-purple);
  float: right;
  font-weight: 700;
}

/* Assinatura */
.book-signature {
  position: relative;
  min-width: 150px;
  text-align: right;
}

.book-signature::after {
  content: 'Nan Hazu';
  font-family: 'Dancing Script', cursive;
  font-size: 2.5em;
  color: var(--ink-accent);
  display: block;
  transform: rotate(-6deg);
  font-weight: bold;
}

/* Responsividade */
@media (max-width: 550px) {
  /* Ajusta as bordas para telas menores para sobrar espaço pro texto */
  .book-container { 
      border-width: 50px 35px 60px 35px;
      padding: 10px 15px 20px 15px;
  }
  .book-stats-grid { grid-template-columns: 1fr; }
  .book-footer { flex-direction: column; align-items: center; gap: 20px; }
  .book-signature { text-align: center; }
}
