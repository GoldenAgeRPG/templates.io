@import url('https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600;700&family=Cinzel:wght@400;500;700&family=IM+Fell+English:ital@0;1&family=La+Belle+Aurore&display=swap');

/* --- VARIÁVEIS DE COR (Novas, mais escuras e envelhecidas) --- */
.torn-page-container {
  --paper-base: #d8c8a8; /* Cor base amarelada escura */
  --paper-texture: url('https://www.transparenttextures.com/patterns/aged-paper.png');
  --ink: #3e2b1f; /* Tinta marrom bem escuro */
  --ink-light: #5e4b3f;
  --accent: #8b4513; /* Marrom sela */
  --accent-dark: #2c1a0f;
  --red: #8b0000;
  --energy: #d2691e;
  --sanity: #556b2f;
  --purple: #4b0082;
  
  width: 100%;
  display: flex;
  justify-content: center;
  padding: 40px 20px;
}

/* --- CONTAINER PRINCIPAL DA PÁGINA RASGADA --- */
.torn-page {
  width: 100%;
  max-width: 800px; /* Largura confortável para leitura */
  position: relative;
  
  /* Fundo complexo para simular papel velho e manchado */
  background-color: var(--paper-base);
  background-image: 
    var(--paper-texture), /* Textura de papel */
    radial-gradient(ellipse at center, transparent 60%, rgba(0,0,0,0.2) 100%); /* Sombra nas bordas (vignette) */
    
  padding: 60px 70px; /* Padding grande para afastar o texto das bordas "rasgadas" */
  
  /* Efeito de borda irregular e sombra */
  border-radius: 2px; /* Leve arredondamento */
  box-shadow: 
    0 15px 30px rgba(0,0,0,0.4), /* Sombra profunda externa */
    inset 0 0 60px rgba(62, 43, 31, 0.3); /* Sombra interna profunda para aspecto manchado */
  
  /* Truque para simular borda gasta */
  outline: 3px dashed rgba(139, 69, 19, 0.3);
  outline-offset: -15px;
  
  color: var(--ink);
  z-index: 1;
}

/* --- DECORAÇÕES (PNGs nos cantos) --- */
.torn-page::before, .torn-page::after {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none;
  z-index: -1; /* Atrás do texto */
  opacity: 0.3; /* Bem suave para mesclar com o papel escuro */
}

.torn-page::before {
  background: 
    url('https://i.imgur.com/PR6AbSC.png') top 30px left 30px / 160px no-repeat,
    url('https://i.imgur.com/Jat8HBW.png') bottom 40px right 40px / 200px no-repeat;
}

.torn-page::after {
  background: 
    url('https://i.imgur.com/HXcbUnZ.png') top 40px right 40px / 170px no-repeat,
    url('https://i.imgur.com/J2x1duv.png') bottom 50px left 50px / 180px no-repeat;
}

/* --- TIPOGRAFIA E CONTEÚDO --- */

/* Cabeçalho Unificado */
.page-header-unified {
  text-align: center; margin-bottom: 30px; border-bottom: 3px double var(--accent); padding-bottom: 15px;
}
.page-title-main {
  font-family: 'Cinzel', serif; font-size: 24px; font-weight: 700; color: var(--accent-dark); text-transform: uppercase; letter-spacing: 2px; display: block;
}
.page-subtitle {
  font-family: 'IM Fell English', serif; font-size: 16px; font-style: italic; color: var(--accent); margin-top: 5px; display: block;
}

/* Status (Adaptado para fundo escuro) */
.stats-compact {
  margin-bottom: 25px; padding: 20px;
  background: rgba(255, 255, 255, 0.2); /* Mais transparente */
  border: 1px solid rgba(62, 43, 31, 0.3);
  border-radius: 4px;
  box-shadow: inset 0 0 15px rgba(0,0,0,0.05);
  position: relative; z-index: 10;
}
.stat-row { display: flex; align-items: center; margin-bottom: 12px; font-family: 'Cinzel', serif; font-size: 13px; }
.stat-row:last-child { margin-bottom: 0; }
.stat-name { width: 50px; font-weight: 700; color: var(--accent-dark); }
.stat-bar-bg { flex: 1; height: 14px; background: rgba(0,0,0,0.15); margin: 0 15px; border-radius: 2px; border: 1px solid rgba(0,0,0,0.2); position: relative; overflow: hidden; }
.stat-fill { height: 100%; width: 0; transition: width 1s; box-shadow: inset 0 2px 5px rgba(0,0,0,0.2); }
.nan-hp-fill { background: linear-gradient(90deg, #6a0000, #8b0000); }
.nan-ea-fill { background: linear-gradient(90deg, #8c4612, #b35917); }
.nan-san-fill { background: linear-gradient(90deg, #3e4d22, #556b2f); }
.stat-val { width: 85px; text-align: right; font-family: 'Crimson Text', serif; font-weight: 700; font-size: 15px; color: var(--accent-dark); text-shadow: 0 1px 2px rgba(255,255,255,0.3); }

/* Texto Principal */
.main-text {
  font-family: 'Crimson Text', serif; font-size: 18px; line-height: 1.9; color: var(--ink); text-align: justify; margin-bottom: 30px; position: relative; z-index: 10;
}
.main-text::first-letter {
  font-family: 'Cinzel', serif; font-size: 48px; float: left; margin-right: 12px; line-height: 0.9; color: var(--accent-dark);
}

/* Seção de Notas/Spoiler */
.notes-section { margin-bottom: 40px; position: relative; z-index: 10; }
.notes-header {
  font-family: 'IM Fell English', serif; font-size: 22px; color: var(--accent-dark); text-align: left; margin-bottom: 10px; border-bottom: 1px dashed var(--accent); padding-bottom: 5px;
}
.spoiler-box {
  background: rgba(255, 255, 255, 0.25); /* Fundo semi-transparente */
  padding: 10px 15px; border-radius: 4px;
  border: 2px solid rgba(139, 69, 19, 0.2);
  font-family: 'Crimson Text', serif; color: var(--ink); font-size: 16px; font-style: italic;
}

/* Rodapé (Footer) - Gengar e Assinatura lado a lado */
.page-footer {
  display: flex;
  justify-content: space-between;
  align-items: flex-end;
  margin-top: auto;
  padding-top: 20px;
  border-top: 3px double var(--accent);
  position: relative; z-index: 10;
}

/* Gengar Mini-Card (Estilo mais rústico) */
.gengar-mini {
  display: flex; align-items: center;
  background: rgba(75, 0, 130, 0.1); /* Roxo muito sutil e transparente */
  padding: 15px;
  border-radius: 6px;
  border: 2px solid rgba(75,0,130,0.3);
  box-shadow: inset 0 0 15px rgba(0,0,0,0.05);
  max-width: 350px;
}
.gengar-img {
  width: 55px; height: 55px; border-radius: 50%;
  background: url('https://i.pinimg.com/1200x/97/27/4f/97274fe18acf564f54fd89fa8f036e9e.jpg') center/cover;
  margin-right: 15px;
  border: 3px solid var(--accent-dark);
  box-shadow: 0 3px 8px rgba(0,0,0,0.3);
  filter: sepia(30%); /* Leve efeito sépia para envelhecer */
}
.gengar-data { flex: 1; }
.gengar-name { font-family: 'Cinzel'; color: var(--purple); font-weight: 900; font-size: 17px; text-shadow: 0 1px 2px rgba(0,0,0,0.2); }
.gengar-hp-bar {
  height: 9px; background: rgba(0,0,0,0.2); margin-top: 6px; width: 100%; border-radius: 3px;
  border: 1px solid var(--accent-dark); overflow: hidden;
}
.gengar-hp-fill { height: 100%; background: var(--purple); width: 0%; }
.gengar-val { font-size:13px; margin-top:4px; color: var(--accent-dark); font-weight: bold; text-align: right; }
.gengar-quote { font-style: italic; color: var(--ink); font-weight: 600; font-size: 14px; margin-top: 10px; border-top: 1px dotted var(--accent); padding-top: 8px; }

/* Assinatura */
.signature-box { text-align: right; padding-bottom: 10px; }
.signature-text {
  font-family: 'La Belle Aurore', cursive;
  font-size: 42px;
  color: var(--ink);
  transform: rotate(-4deg);
  display: inline-block;
  text-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

/* Mobile Responsividade */
@media (max-width: 768px) {
  .torn-page-container { padding: 20px 10px; }
  .torn-page { padding: 40px 30px; } /* Menos padding interno */
  
  .stat-row { flex-direction: column; align-items: flex-start; }
  .stat-name { width: 100%; margin-bottom: 5px; }
  .stat-bar-bg { width: 100%; margin: 0 0 5px 0; height: 12px; }
  .stat-val { width: 100%; text-align: right; }
  
  .page-footer { flex-direction: column; align-items: center; gap: 30px; }
  .gengar-mini { width: 100%; max-width: none; }
  .signature-box { text-align: center; }
  
  /* Reduzir tamanho/opacidade das decorações no mobile para não poluir */
  .torn-page::before, .torn-page::after { opacity: 0.15; background-size: 100px, 120px !important; }
}
