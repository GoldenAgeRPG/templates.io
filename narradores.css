@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Merriweather:wght@300;700&family=Oswald:wght@500;700&display=swap');

/* --- VARIÁVEIS DO TEMA --- */
.gm-container {
  --gm-bg: #0a0a0a;
  --gm-text: #d4d4d4;
  --gm-accent: #6a0dad; /* Roxo JJK / Maldição */
  --gm-accent-glow: rgba(106, 13, 173, 0.4);
  --gm-alert: #ff3333;
  --gm-font-body: 'Merriweather', serif;
  --gm-font-tech: 'JetBrains Mono', monospace;
  --gm-font-title: 'Oswald', sans-serif;
  
  position: relative;
  width: 100%; max-width: 800px;
  margin: 40px auto;
  background-color: var(--gm-bg);
  /* Textura de ruído sutil no fundo */
  background-image: 
    linear-gradient(rgba(10,10,10,0.95), rgba(10,10,10,0.95)),
    url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.5'/%3E%3C/svg%3E");
  
  border: 1px solid #222;
  box-shadow: 0 0 40px rgba(0,0,0,0.8);
  overflow: hidden;
}

/* Faixa Lateral de Destaque */
.gm-container::before {
  content: ''; position: absolute; top: 0; left: 0; bottom: 0; width: 4px;
  background: linear-gradient(to bottom, var(--gm-accent), #000);
  box-shadow: 2px 0 10px var(--gm-accent-glow);
}

/* --- CABEÇALHO --- */
.gm-header {
  padding: 20px 30px;
  background: linear-gradient(to right, #111, #0a0a0a);
  border-bottom: 1px solid #222;
  display: flex; justify-content: space-between; align-items: center;
  position: relative;
}

.gm-title {
  font-family: var(--gm-font-title); font-size: 2em; letter-spacing: 2px;
  color: #fff; text-transform: uppercase;
  text-shadow: 0 0 10px var(--gm-accent-glow);
}

.gm-meta {
  display: flex; flex-direction: column; gap: 2px;
  font-family: var(--gm-font-tech); font-size: 0.7em; color: #666;
  text-transform: uppercase; letter-spacing: 1px;
}
.gm-meta span { display: block; }
.gm-location { color: var(--gm-accent); font-weight: bold; }

/* --- CORPO DA NARRAÇÃO --- */
.gm-body {
  padding: 40px;
  font-family: var(--gm-font-body); font-size: 1.1em; line-height: 1.8;
  color: var(--gm-text); text-align: justify;
}

.gm-body p { margin-bottom: 20px; }
.gm-body b { color: #fff; font-weight: 700; }
.gm-body i { color: var(--gm-accent); }

/* --- CAIXA DE SISTEMA (MECÂNICA) --- */
.gm-system-box {
  margin: 0 30px 30px 30px;
  background: #0f0f0f;
  border: 1px solid #333;
  border-left: 3px solid var(--gm-alert); /* Vermelho para alerta */
  position: relative;
  font-family: var(--gm-font-tech);
}

.gm-system-title {
  background: #1a1a1a;
  color: var(--gm-alert);
  font-size: 0.7em; font-weight: bold; padding: 5px 15px;
  text-transform: uppercase; letter-spacing: 2px;
  border-bottom: 1px solid #222;
  display: flex; align-items: center; gap: 10px;
}
.gm-system-title::before {
  content: ''; display: block; width: 8px; height: 8px; 
  background: var(--gm-alert); border-radius: 50%;
  animation: pulse-alert 1s infinite;
}
@keyframes pulse-alert { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

/* Área do NPC dentro do sistema */
.gm-npc-display {
  display: flex; align-items: center; gap: 15px;
  padding: 15px; background: rgba(255, 51, 51, 0.05);
  border-bottom: 1px dashed #333;
}
.gm-npc-img {
  width: 50px; height: 50px; object-fit: cover;
  border: 1px solid #444; filter: grayscale(50%);
}
.gm-npc-info { display: flex; flex-direction: column; }
.gm-npc-name { font-weight: bold; color: #ccc; font-size: 0.9em; text-transform: uppercase; }
.gm-npc-hp { font-size: 0.75em; color: var(--gm-alert); }

/* Conteúdo do Sistema */
.gm-system-content {
  padding: 15px; font-size: 0.85em; color: #aaa; line-height: 1.6;
}
.gm-system-content p { margin-bottom: 5px; }
.gm-system-content p:last-child { margin-bottom: 0; }

/* --- RODAPÉ --- */
.gm-footer {
  height: 10px; background: #000;
  border-top: 1px solid #222;
  position: relative;
}
.gm-footer::after {
  content: '//////////////////////////////////////';
  position: absolute; right: 10px; top: -18px;
  color: #222; font-family: var(--gm-font-tech); font-size: 0.8em; letter-spacing: 2px;
}

/* Mobile */
@media (max-width: 600px) {
  .gm-header { flex-direction: column-reverse; gap: 15px; text-align: center; }
  .gm-meta { text-align: center; }
  .gm-body { padding: 25px; }
  .gm-system-box { margin: 0 15px 20px; }
}
